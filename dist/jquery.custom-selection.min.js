/*! jquery-custom-selection - v0.2.2 - 2014-10-22 */
!function(a){function b(){return ob.useMarkers===qb&&!v()}function c(a){Bb=a[0].ownerDocument,Ab=Bb.defaultView||Bb.parentWindow}function d(b){y(b),b.on("mousedown",i).on("mouseup",l).on("mousemove",m),a(Ab).on("resize",s)}function e(b){z(b),b.off("mousedown",i).off("mouseup",l).off("mousemove",m),a(Ab).off("resize",s)}function f(a){pb=new Hammer.Manager(a[0],{recognizers:[[Hammer.Press],[Hammer.Tap]]}),pb.set({holdThreshold:ob.holdThreshold,holdTimeout:ob.holdTimeout})}function g(b){f(b),b.on("touchmove",o).on("touchend",p),pb.on("press",n),pb.on("tap",r),a(Ab).on("orientationchange resize",s)}function h(a){a.off("touchmove",o).off("touchend",p),pb.destroy()}function i(a){u(a.target)?Db=a.target:(r(),j(a))}function j(a){Ib&&clearInterval(Ib),Eb=Date.now(),Fb=I(a,{shift:!1}),Hb=!1,Ib=setTimeout(k,ob.holdTimeout,a)}function k(a){Hb||x(a),Fb=null,Eb=0,Hb=!1,Ib=null}function l(){Db=null}function m(a){Db?q(a):t(a)&&(Hb=!0)}function n(a){a.srcEvent.preventDefault(),a.srcEvent.stopPropagation(),x(a)}function o(a){u(a.target)&&(q(a),zb=!0)}function p(a){zb&&(a.preventDefault(),zb=!1)}function q(a){a.preventDefault(),xb=I(a.originalEvent),tb.requestFrame(function(){var b=K(xb);V(b,xb,w(a)),A()})}function r(){a(ub).detach(),a(vb).detach(),Cb=null,wb.clearSelection(),ob.onSelectionChange(Bb.createRange())}function s(){var a=F();B(a)}function t(a){if(!Fb)return!1;var b=Math.abs(a.clientX-Fb.clientX),c=Math.abs(a.clientY-Fb.clientY);return b>ob.holdThreshold||c>ob.holdThreshold}function u(a){return a===ub||a===vb}function v(){return"ontouchend"in document}function w(a){return Db||a.target}function x(a){var b=J(a);if(!u(b)){var c=I(a,{shift:!1});r(),O(b,c),A(),zb=!0}}function y(a){Gb=a.css("user-select"),a.css("user-select","none")}function z(a){a.css("user-select",Gb)}function A(){var a=F();E(a)&&B(a)}function B(a){a&&(ob.onSelectionChange(a),Cb=a,wb.redraw(a))}function C(a){return 0!==Cb.compareBoundaryPoints(Range.END_TO_END,a)}function D(a){return 0!==Cb.compareBoundaryPoints(Range.START_TO_START,a)}function E(a){return!Cb||C(a)||D(a)}function F(){if(H(ub,vb)){var a=Bb.createRange();return a.setStart.apply(a,G(ub)),a.setEnd.apply(a,G(vb)),a.collapsed&&(a.setStart.apply(a,G(vb)),a.setEnd.apply(a,G(ub))),a}return null}function G(a){var b=Z(a),c=a.parentNode;return a.nextSibling&&(b+=1),[c,b]}function H(){for(var a=0;a<arguments.length;a++){var b=arguments[a];if(!b.parentNode)return!1}return!0}function I(a,b){return new CustomSelection.Lib.Point(a,b)}function J(a){var b=a.touches||a.pointers||[a];return b[0].target}function K(a){M();var b=Bb.elementFromPoint(a.clientX,a.clientY);return N(),b}function L(a){var b=Bb.createElement("span");return b.setAttribute("class",a),b}function M(){var b={visibility:"hidden"};a(ub).css(b),a(vb).css(b)}function N(){var b={visibility:"visible"};a(ub).css(b),a(vb).css(b)}function O(a,b){var c;(c=$(a,b))&&(c=W(c,b),P(c,ub),Q(c,vb),c.parentNode.normalize())}function P(a,b){for(var c=a;!U(c,yb);)if(c.data.length>1)c=R(c);else{if(!c.previousSibling||!cb(c.previousSibling))return void X(c,b);c=c.previousSibling}Y(c,b)}function Q(a,b){for(var c=a;!T(c,yb);)if(c.length>1)c=S(c);else{if(!c.nextSibling||!cb(c.nextSibling))return void Y(c,b);c=c.nextSibling}X(c,b)}function R(a){var b=a.splitText(a.length-1);return b.previousSibling}function S(a){return a.splitText(1)}function T(a,b){return a.data[0]===b}function U(a,b){return a.data[a.length-1]===b}function V(a,b,c){var d;if(d=$(a,b))d=W(d,b),X(d,c);else{if(!(d=eb(a,b)))return null;Y(d,c)}c.parentNode.normalize()}function W(a,b){for(;a.length>1;){var c=a.length>>1,d=a.splitText(c);_(d,b)&&(a=d)}return a}function X(a,b){a.parentNode.insertBefore(b,a)}function Y(a,b){a.nextSibling?a.parentNode.insertBefore(b,a.nextSibling):a.parentNode.appendChild(b)}function Z(a){var b=a.parentElement.childNodes;return Array.prototype.indexOf.call(b,a)}function $(a,b){if(a)for(var c,d=a.childNodes,e=0;c=d[e++];)if(cb(c)&&_(c,b))return c;return null}function _(a,b){for(var c,d=ab(a),e=0;c=d[e++];)if(bb(c,b))return!0;return!1}function ab(a){var b=Bb.createRange();return b.selectNode(a),b.getClientRects()}function bb(a,b){var c=sb?b.pageX:b.clientX,d=sb?b.pageY:b.clientY;return c>a.left&&c<a.right&&d>a.top&&d<a.bottom}function cb(a){return a.nodeType===Node.TEXT_NODE&&a.length}function db(a){return a.childNodes.length>0}function eb(a,b){var c=hb.bind(null,b),d=mb.bind(null,b);return fb(a,c)||fb(a,d)}function fb(a,b){for(var c,d=a;c=gb(d,b);){if(cb(c))return c;d=c}}function gb(a,b){var c=null;if(a)for(var d,e=a.childNodes,f=0;d=e[f++];){var g;(g=ab(d))&&g.length&&(db(d)||cb(d))&&(c=b(c,d))}return c}function hb(a,b,c){var d=b,e=ib(c,a);if(b){var f=ib(b,a);jb(e,f)&&e.right>f.right&&(d=lb(c,e))}else e&&(d=lb(c,e));return d}function ib(a,b){for(var c,d=ab(a),e=null,f=0;c=d[f++];)kb(c,b)&&(!e||c.right>e.right)&&(e=c);return e}function jb(a,b){return a&&b&&a!==b}function kb(a,b){var c=b.clientX,d=b.clientY;return a.right<c&&a.top<=d&&a.bottom>=d}function lb(a,b){var c=ab(a),d=c[c.length-1];if(b!==d&&cb(a)){var e={clientX:b.right-1,clientY:b.bottom-1};return W(a,e)}return a}function mb(a,b,c){var d=nb(c,a),e=b;if(b){var f=nb(b,a);jb(d,f)&&d.top>=f.top&&(e=lb(c,d))}else d&&(e=lb(c,d));return e}function nb(a,b){for(var c,d=b.clientY,e=ab(a),f=null,g=0;c=e[g++];)c.top<d&&(!f||c.top>=f.top)&&(f=c);return f}var ob,pb,qb="onTouchDevices",rb={markerClass:"marker",holdThreshold:4,holdTimeout:500,useMarkers:qb,onSelectionChange:function(){}},sb=navigator.userAgent.match(/(iPad|iPhone|iPod)/g)?!0:!1,tb=null,ub=null,vb=null,wb=null;window.CustomSelection={Lib:{}},a.fn.customSelection=function(e){return ob=a.extend(rb,e),b()?void 0:(c(this),v()?g(this):d(this),ub=L(ob.markerClass),vb=L(ob.markerClass),tb=new CustomSelection.Lib.FrameRequester,wb=new CustomSelection.Lib.SelectionDrawer({$element:this,contextWindow:Ab,contextDocument:Bb,fillStyle:ob.selectionColor}),this)},a.fn.clearCustomSelection=function(){return r(),this},a.fn.disableCustomSelection=function(){return b()?void 0:(v()?h(this):e(this),r(),this)};var xb=null,yb=" ",zb=!1,Ab=null,Bb=null,Cb=null,Db=!1,Eb=0,Fb=null,Gb=null,Hb=!1,Ib=null}(jQuery),function(a){"use strict";function b(){this._ticking=!1}b.prototype.requestFrame=function(a){this._ticking||window.requestAnimationFrame(function(){a(),this._ticking=!1}.bind(this)),this._ticking=!0},a.CustomSelection.Lib.FrameRequester=b}(this),function(a){"use strict";function b(a,b){var e=$.extend({},c,b),f=a.touches||a.pointers||[a],g=f[0];this.clientX=g.clientX,this.clientY=g.clientY,this.pageX=g.pageX,this.pageY=g.pageY,e.shift&&(this.clientY+=d,this.pageY+=d)}var c={shift:!0},d=-32;a.CustomSelection.Lib.Point=b}(this),function(){for(var a=0,b=["ms","moz","webkit","o"],c=0;c<b.length&&!window.requestAnimationFrame;++c)window.requestAnimationFrame=window[b[c]+"RequestAnimationFrame"],window.cancelAnimationFrame=window[b[c]+"CancelAnimationFrame"]||window[b[c]+"CancelRequestAnimationFrame"];window.requestAnimationFrame||(window.requestAnimationFrame=function(b){var c=(new Date).getTime(),d=Math.max(0,16-(c-a)),e=window.setTimeout(function(){b(c+d)},d);return a=c+d,e}),window.cancelAnimationFrame||(window.cancelAnimationFrame=function(a){clearTimeout(a)})}(),function(a){"use strict";function b(a){j=a,c()}function c(){g(),i=h.getContext("2d")}function d(a){var b=a.getBoundingClientRect(),c=a.getClientRects(),d=.5,e=d-b.left,f=d-b.top;i.save(),i.translate(e,f),i.beginPath(),Array.prototype.forEach.call(c,function(a){i.rect(a.left,a.top,a.width,a.height)}),i.closePath(),i.fillStyle=j.fillStyle,i.fill(),i.restore()}function e(){return l?0:$(j.contextWindow).scrollTop()}function f(a){a=a||{top:0,left:0,width:0,height:0},h.style.top=a.top+e()+"px",h.style.left=a.left+"px",h.width=a.width,h.height=a.height}function g(){h=j.contextDocument.createElement("canvas"),h.className=k,h.width=0,h.height=0,j.$element[0].appendChild(h)}var h,i,j,k="custom-selection-canvas",l=navigator.userAgent.match(/(iPad|iPhone|iPod)/g)?!0:!1;b.prototype.redraw=function(a){f(a.getBoundingClientRect()),d(a)},b.prototype.clearSelection=function(){f()},a.CustomSelection.Lib.SelectionDrawer=b}(this);
//# sourceMappingURL=jquery.custom-selection.min.map