{"version":3,"file":"jquery.custom-selection.min.js","sources":["jquery.custom-selection.js"],"names":["$","shouldLeaveNativeSelection","settings","useMarkers","ON_TOUCH_DEVICES","isTouchDevice","useContextOf","$element","contextDocument","ownerDocument","contextWindow","defaultView","parentWindow","enableMouseSelectionFor","disableNativeSelection","on","handleGlobalMouseDown","handleGlobalMouseUp","handleGlobalMouseMove","handleResize","disableMouseSelectionFor","restoreNativeSelection","off","initializeHammerFor","hammer","Hammer","Manager","recognizers","Press","Tap","set","holdThreshold","holdTimeout","enableTouchSelectionFor","handleGlobalTouchMove","handleGlobalTouchEnd","handleGlobalTapHold","clearSelection","disableTouchSelectionFor","destroy","jqueryEvent","isMarker","target","movedMarker","handleGlobalMouseHoldDownStart","timeoutId","clearInterval","mouseDownTime","Date","now","mouseDownPoint","getTouchPoint","shift","hasMovedOverThreshold","setTimeout","handleGlobalMouseHoldDown","tryToInitNewSelection","e","handleMarkerPointerMove","movedOverThreshold","srcEvent","preventDefault","stopPropagation","rejectTouchEnd","lastPoint","originalEvent","frameRequester","requestFrame","eventAnchor","getTouchedElementByPoint","mark","getMarkerToMove","makeSelection","startMarker","detach","endMarker","lastSelectionRange","selectionDrawer","onSelectionChange","createRange","range","createSelectionRange","drawSelectionRange","mouseMoveXDiff","Math","abs","clientX","mouseMoveYDiff","clientY","element","document","getTargetElementFromPointerEvent","point","wrapWithMarkersWordAtPoint","userSelectBeforeEnablingSelection","css","hasRangeChanged","redraw","hasEndOfSelectionChanged","compareBoundaryPoints","Range","END_TO_END","hasStartOfSelectionChanged","START_TO_START","existInDOM","setStart","apply","getRangeBoundAt","setEnd","collapsed","offset","getIndexOfElement","anchor","parentNode","nextSibling","i","arguments","length","touchEvent","options","CustomSelection","Lib","Point","pointerEvent","touches","pointers","touchPoint","hideMarkers","elementFromPoint","showMarkers","createMarker","kind","span","createElement","setAttribute","visibility","textNode","getFromElNodeContainingPoint","trimTextNodeWhileContainsPoint","putMarkerBeforeWhitespaceOnLeftOf","putMarkerBeforeWhitespaceOnRightOf","normalize","marker","node","nodeEndsWith","WHITESPACE","data","removeLastLetter","previousSibling","nodeIsText","putMarkerBefore","putMarkerAfter","nodeStartsWith","removeFirstLetter","subNode","splitText","letter","el","getClosestTextNodeFromEl","trimPosition","nodeContainsPoint","insertBefore","appendChild","elements","parentElement","childNodes","Array","prototype","indexOf","call","n","nodes","rect","rects","getRectsForNode","j","rectContainsPoint","selectNode","getClientRects","x","isAppleDevice","pageX","y","pageY","left","right","top","bottom","nodeType","Node","TEXT_NODE","nodeHasChildren","nearestOnTheLeftOfPoint","getNodeNearerPointOnLeft","bind","nearestAbovePoint","getNodeNearerPointAbove","searchTextNode","comparator","searchNode","closestNode","winner","rival","newWinner","nearestRivalRect","getRectNearestOnLeftOfPoint","nearestWinnerRect","areDifferent","splitNodeAfterRect","nearestRect","rectIsInTheSameLineOnLeft","arg1","arg2","clientRect","lastRect","getRectNearestAbovePoint","defaults","markerClass","navigator","userAgent","match","window","fn","customSelection","extend","this","FrameRequester","SelectionDrawer","fillStyle","selectionColor","clearCustomSelection","disableCustomSelection","jQuery","global","_ticking","func","requestAnimationFrame","touch","SHIFT_Y","lastTime","vendors","cancelAnimationFrame","callback","currTime","getTime","timeToCall","max","id","clearTimeout","initCanvas","createCanvas","context","canvas","getContext","drawSelection","boundingClientRect","getBoundingClientRect","SUBPIXEL_OFFSET","offsetX","offsetY","save","translate","beginPath","forEach","width","height","closePath","fill","restore","yOffset","scrollTop","updateCanvasBounds","newBounds","style","className","CUSTOM_SELECTION_CANVAS_CLASS"],"mappings":"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"}