/*! CustomSelection - v0.1.0 - 2014-07-23 */
!function(a){function b(a){$(a).on("touchstart",d).on("touchmove",e).on("touchend",f)}function c(a){$(a).off("touchstart",d).off("touchmove",e).off("touchend",f)}function d(a){a=a.originalEvent,g();var b=j(a),c=i(a);l(b,c)}function e(a){a.preventDefault(),a=a.originalEvent,K=i(a),o(function(){var a=k(K);m(a,K),L=!1})}function f(){console.log("sA, eA, sO, eO",E,F,G,H),h()}function g(){window.getSelection().removeAllRanges(),$("."+C).remove(),$("."+D).remove()}function h(){var a=document.createRange();a.setStart(E,G),a.setEnd(F,H),window.getSelection().addRange(a)}function i(a){var b=a.touches[0];return{clientX:b.clientX,clientY:b.clientY,pageX:b.pageX,pageY:b.pageY}}function j(a){return a.touches[0].target}function k(a){return document.elementFromPoint(a.clientX,a.clientY)}function l(a,b){I=I||n(C);var c=p(a,b,I);c&&(E=I.parentNode,G=c)}function m(a,b){J=J||n(D);var c=p(a,b,J);c&&(F=J.parentNode,H=c)}function n(a){var b=document.createElement("span");return b.setAttribute("class",a),b}function o(a){L||window.requestAnimationFrame(a),L=!0}function p(a,b,c){var d;if(d=t(a,b)){for(;d.length>1;){var e=d.length>>1,f=d.splitText(e);u(f,b)&&(d=f)}q(d,c)}else{if(!(d=y(a,b)))return null;r(d,c)}return c.parentNode.normalize(),s(c)}function q(a,b){a.parentNode.insertBefore(b,a)}function r(a,b){a.nextSibling?a.parentNode.insertBefore(b,a.nextSibling):a.parentNode.appendChild(b)}function s(a){var b=a.parentElement.childNodes;return Array.prototype.indexOf.call(b,a)}function t(a,b){for(var c,d=a.childNodes,e=0;c=d[e++];)if(x(c)&&u(c,b))return c}function u(a,b){for(var c,d=v(a),e=0;c=d[e++];)if(w(c,b))return!0}function v(a){var b=document.createRange();return b.selectNode(a),b.getClientRects()}function w(a,b){var c=b.clientX,d=b.clientY;return c>a.left&&c<a.right&&d>a.top&&d<a.bottom}function x(a){return a.nodeType===Node.TEXT_NODE&&a.length}function y(a,b){for(var c,d=a;c=z(d,b);){if(x(c))return c;d=c}return null}function z(a,b){for(var c,d=a.childNodes,e=null,f=0;c=d[f++];){var g;(g=v(c))&&g.length&&(e=e||c,e=A(b,e,c))}return e}function A(a,b,c){var d=B(b,a),e=B(c,a);return e&&d&&e!==d&&e.top>=d.top?c:b}function B(a,b){for(var c,d=b.clientY,e=v(a),f=null,g=0;c=e[g++];)c.top<d&&(f=f||c,f!==c&&c.top>=f.top&&(f=c));return f}var C="start-marker",D="end-marker";a.CustomSelection={enable:function(a,c){c&&(C=c.startMarkerClass||C,D=c.endMarkerClass||D,b(a))},disable:function(a){c(a),g()}};var E=null,F=null,G=null,H=null,I=null,J=null,K=null,L=!1}(this);
//# sourceMappingURL=custom-selection.min.map