/*! CustomSelection - v0.1.0 - 2014-07-23 */
!function(a){function b(a){$(a).on("touchstart",function(a){a.preventDefault(),a=a.originalEvent,c();var b=f(a),d=e(a);h(b,d)}).on("touchmove",function(a){a.preventDefault(),a=a.originalEvent,G=e(a),k(function(){var a=g(G);i(a,G),H=!1})}).on("touchend",function(){console.log("sA, eA, sO, eO",A,B,C,D),d()})}function c(){window.getSelection().removeAllRanges(),$("."+y).remove(),$("."+z).remove()}function d(){var a=document.createRange();a.setStart(A,C),a.setEnd(B,D),window.getSelection().addRange(a)}function e(a){var b=a.touches[0];return{clientX:b.clientX,clientY:b.clientY,pageX:b.pageX,pageY:b.pageY}}function f(a){return a.touches[0].target}function g(a){return document.elementFromPoint(a.clientX,a.clientY)}function h(a,b){E=E||j(y);var c=l(a,b,E);c&&(A=E.parentNode,C=c)}function i(a,b){F=F||j(z);var c=l(a,b,F);c&&(B=F.parentNode,D=c)}function j(a){var b=document.createElement("span");return b.setAttribute("class",a),b}function k(a){H||window.requestAnimationFrame(a),H=!0}function l(a,b,c){var d;if(d=p(a,b)){for(;d.length>1;){var e=d.length>>1,f=d.splitText(e);q(f,b)&&(d=f)}m(d,c)}else{if(!(d=u(a,b)))return null;n(d,c)}return c.parentNode.normalize(),o(c)}function m(a,b){a.parentNode.insertBefore(b,a)}function n(a,b){a.nextSibling?a.parentNode.insertBefore(b,a.nextSibling):a.parentNode.appendChild(b)}function o(a){var b=a.parentElement.childNodes;return Array.prototype.indexOf.call(b,a)}function p(a,b){for(var c,d=a.childNodes,e=0;c=d[e++];)if(t(c)&&q(c,b))return c}function q(a,b){for(var c,d=r(a),e=0;c=d[e++];)if(s(c,b))return!0}function r(a){var b=document.createRange();return b.selectNode(a),b.getClientRects()}function s(a,b){var c=b.clientX,d=b.clientY;return c>a.left&&c<a.right&&d>a.top&&d<a.bottom}function t(a){return a.nodeType===Node.TEXT_NODE&&a.length}function u(a,b){for(var c,d=a;c=v(d,b);){if(t(c))return c;d=c}return null}function v(a,b){for(var c,d=a.childNodes,e=null,f=0;c=d[f++];){var g;(g=r(c))&&g.length&&(e=e||c,e=w(b,e,c))}return e}function w(a,b,c){var d=x(b,a),e=x(c,a);return e&&d&&e!==d&&e.top>=d.top?c:b}function x(a,b){for(var c,d=b.clientY,e=r(a),f=null,g=0;c=e[g++];)c.top<d&&(f=f||c,f!==c&&c.top>=f.top&&(f=c));return f}var y="start-marker",z="end-marker";a.CustomSelection={enable:function(a){if(a){y=a.startMarkerClass||y,z=a.endMarkerClass||z;var c=a.element||$("body");b(c)}},disable:function(){}};var A=null,B=null,C=null,D=null,E=null,F=null,G=null,H=!1}(this);
//# sourceMappingURL=custom-selection.min.map